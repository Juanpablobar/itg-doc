import RegisterCustomComponentsFileTree from '../../../../components/RegisterCustomComponentsFileTree'
import { Callout } from 'nextra/components'

# Registro de componentes personalizados

Una vez has creado tus componentes, deber√°s registrarlos para visualizarlos en tu aplicaci√≥n. Esta secci√≥n te ense√±ar√° a registrar tus componentes y algunos puntos que deber√°s tener en cuenta al momento de hacerlo.

## Archivo de registro componentes

Los componentes personalizados que quieras agregar a tu proyecto, se registran de forma sencilla en el archivo **`index.tsx`** en la ruta `/src/components`

<RegisterCustomComponentsFileTree />

Este archivo, exporta un objeto llamado **`customComponents`** que act√∫a como el registro de componentes. En este objeto, cada llave representa el nombre del componente y su valor ser√° la funci√≥n que renderiza el componente.

## Ejemplo de registro

Tu plantilla proyecto ya incluye un componente registrado. El componente **`RichText`** es importado desde la ruta `/src/components/RichText` y es a√±adido al objeto de registro **`customComponents`**.

```tsx
// Ejemplo de registro del componente "rich-text"
import RichText from './RichText'

type AllowedComponents = Record<string, any>

export const customComponents: AllowedComponents = {
  // ...otros componentes registrados
  'rich-text': RichText,
  // ...otros componentes registrados
}
```

## Consideraciones para el registro de componentes

Como ves, el registrar un componente personalizado es un proceso sencillo. A√∫n as√≠ ten en cuenta las siguientes consideraciones

### Configura tu componente desde tu CMS

T√∫ componente est√° listo para usar, pero debes agregarlo a tu CMS para que puedas visualizarlo. Recuerda que tu CMS es quien gener√° la estructura de tu aplicaci√≥n, sus rutas y componentes para esas rutas.
Aunque tu componente est√© registrado, si no lo llamas en alguna de tus rutas, no lo visualizar√°s.

Si ya agregaste tu componente a una ruta y no lo visualizas, revisa alguno de los siguientes puntos:

1. El nombre de tu componente debe ser exactamente igual tanto en el archivo de registro de componentes como en tu CMS. Por ejemplo si en tu CMS quieres llamar al componente **`RichText`** no se renderizar√° si en tu proyecto lo registraste como **`rich-text`**
2. Verifica que las propiedades que envias desde tu CMS son las que tu componente necesita. Si tu componente **`Slider`** necesita de un arreglo de urls, y en su lugar tu CMS env√≠a otro tipo de dato tu componente puede no renderizarse o puede causar errores en tu aplicaci√≥n.

### Nombramiento de tus componentes custom

Al registrar tus componentes, es posible que uses un nombre que ya ha sido usado por alg√∫n componente de **`itg-ecommerce-plugin`**. Cuando dos componentes tienen el mismo nombre, **tendr√° prioridad tu componente personalizado** sobre los componentes de **`itg-ecommerce-plugin`**.

Por ejemplo, tu proyecto por defecto tiene un componente registrado llamado **`'rich-text'`**, este componente existe en e-commerce y est√° registrado bajo el mismo nombre. Pero al ser llamados desde el CMS, se el componente de tu proyecto.

<Callout emoji="üë©üèΩ‚Äçüíª" type="info">
  Puedes cambiar estilos de tu componente **`'rich-text'`** y visualizarlos en
  tu aplicaci√≥n. Si el componente no est√° en la estructura de tu aplicaci√≥n,
  puedes a√±adirlo desde tu CMS.
</Callout>

Algunas consideraciones al momento de nombrar tus componentes:

1. Si usas un nombre ya existente se usar√° en lugar de los componentes de **`itg-ecommerce-plugin`**. Esto incluye todas las secciones de la app que est√°n usando ese componente. As√≠ que, si quieres cambiar o a√±adir un componente en solo una secci√≥n y mantener en otras secciones el uso del componente de e-commerce, registra tu componente bajo un nombre distinto.
